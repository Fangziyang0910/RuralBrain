# ğŸ› æ˜†è™«æ£€æµ‹API

åŸºäº YOLOv8 æ·±åº¦å­¦ä¹ æ¨¡å‹çš„æ˜†è™«æ£€æµ‹ FastAPI æœåŠ¡ï¼Œæ”¯æŒ 29 ç§å¸¸è§å†œä¸šå®³è™«çš„æ™ºèƒ½è¯†åˆ«ã€‚

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### æ–¹æ³•1ï¼šä½¿ç”¨éƒ¨ç½²åŒ…ï¼ˆæ¨èï¼‰
```
1. è¿›å…¥ deployment_package ç›®å½•
2. åŒå‡»è¿è¡Œ "æœ¬åœ°éƒ¨ç½².bat" 
3. ç­‰å¾…è‡ªåŠ¨å®‰è£…å®Œæˆ
4. è®¿é—® http://localhost:8001/docs
```

### æ–¹æ³•2ï¼šæ‰‹åŠ¨éƒ¨ç½²
```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨æœåŠ¡
python run.py
```

## ğŸŒ è®¿é—®åœ°å€
- **APIæ–‡æ¡£**: http://localhost:8001/docs
- **å¥åº·æ£€æŸ¥**: http://localhost:8001/health
- **æ£€æµ‹æ¥å£**: POST http://localhost:8001/api/detect

## ğŸ“ é¡¹ç›®ç»“æ„

```
insect_detector/
â”œâ”€â”€ app/                    # åº”ç”¨ä¸»ç›®å½•
â”‚   â”œâ”€â”€ main.py            # FastAPIåº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ api/               # APIè·¯ç”±
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒé…ç½®
â”‚   â”œâ”€â”€ schemas/           # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â”œâ”€â”€ models/                # æ¨¡å‹æ–‡ä»¶
â”‚   â””â”€â”€ best.pt           # YOLOv8è®­ç»ƒçš„æ¨¡å‹
â”œâ”€â”€ deployment_package/    # ä¾¿æºéƒ¨ç½²åŒ…
â”‚   â”œâ”€â”€ æœ¬åœ°éƒ¨ç½².bat       # ä¸€é”®éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ ...               # å®Œæ•´åº”ç”¨å‰¯æœ¬
â”œâ”€â”€ output_images/         # è¾“å‡ºå›¾åƒç›®å½•
â”œâ”€â”€ requirements.txt       # Pythonä¾èµ–
â””â”€â”€ run.py                # å¯åŠ¨è„šæœ¬
```

## ğŸ§ª ä½¿ç”¨ç¤ºä¾‹

### Pythonè°ƒç”¨
```python
import requests

# ä¸Šä¼ å›¾åƒè¿›è¡Œæ£€æµ‹
with open('insect_image.jpg', 'rb') as f:
    response = requests.post(
        'http://localhost:8001/api/detect',
        files={'file': f}
    )

result = response.json()
print(result)
```

### curlè°ƒç”¨
```bash
curl -X POST "http://localhost:8001/api/detect" \
     -H "Content-Type: multipart/form-data" \
     -F "file=@insect_image.jpg"
```

## ğŸ› æ”¯æŒçš„æ˜†è™«ç±»å‹ (29ç§)

åŒ…æ‹¬ç“œå®è‡ã€å°èœè›¾ã€è‰åœ°è´ªå¤œè›¾ã€ç¨»é£è™±ã€èšœè™«ç­‰29ç§å¸¸è§å†œä¸šå®³è™«ã€‚

è¯¦ç»†åˆ—è¡¨è¯·è®¿é—® API æ–‡æ¡£ï¼šhttp://localhost:8001/docs

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Windows 10/11, Linux, macOS
- **Pythonç‰ˆæœ¬**: 3.8-3.11
- **å†…å­˜è¦æ±‚**: è‡³å°‘2GBå¯ç”¨å†…å­˜
- **ç½‘ç»œ**: é¦–æ¬¡å®‰è£…éœ€è¦ç½‘ç»œè¿æ¥ä¸‹è½½ä¾èµ–

## âš ï¸ æ³¨æ„äº‹é¡¹

- æ¨¡å‹æ–‡ä»¶ `models/best.pt` å¿…é¡»å­˜åœ¨
- æ”¯æŒçš„å›¾åƒæ ¼å¼ï¼šJPEG, PNG, BMP
- æ¨èå›¾åƒå°ºå¯¸ï¼š640x640åƒç´ ä»¥ä¸Š
- é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ä¸‹è½½å¿…è¦çš„ä¾èµ–åŒ…

## ğŸ“ è·å–å¸®åŠ©

- **APIæ–‡æ¡£**: http://localhost:8001/docs
- **å¥åº·æ£€æŸ¥**: http://localhost:8001/health
- **éƒ¨ç½²é—®é¢˜**: æŸ¥çœ‹ `deployment_package/README.md`

---
*ç‰ˆæœ¬: v1.0 | æ›´æ–°æ—¥æœŸ: 2025å¹´12æœˆ2æ—¥*